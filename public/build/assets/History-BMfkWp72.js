import{j as e,q as d,r as c}from"./app-CA6_zjF1.js";import{F as o}from"./ChevronLeftIcon-DSJ0Sx97.js";const x=({CardProp:s})=>{const n=l=>{console.log("Clicked with log id : ",l),window.location.href=`/profile/history/${l}/detail`};return e.jsxs("div",{onClick:()=>n(s.logId),className:"w-full h-fit rounded-[10px] border border-[#8BAFCE80] bg-white ",children:[e.jsxs("div",{className:"flex px-4 pt-7 pb-3  items-center gap-3",children:[e.jsx("div",{children:e.jsx("img",{src:"/shuttle_icon.svg",alt:"shuttle_icon"})}),e.jsxs("div",{className:"flex-row justify-start items-start h-fit",children:[e.jsx("h3",{className:"text-base font-bold",children:s.name}),e.jsxs("p",{className:"text-black text-sm",children:["Booking Code: ",s.bookingCode]})]}),e.jsxs("div",{className:"text-right self-center",children:[e.jsx("p",{className:"text-xs text-primary",children:s.seat}),e.jsx("p",{className:"text-xs text-black",children:s.passengers})]})]}),e.jsxs("div",{className:"grid grid-cols-[5rem_1fr] pb-6 relative",children:[e.jsx("div",{className:"h-full flex justify-end relative top-2 right-1",children:e.jsx("img",{className:"h-[72px] w-[12px]",src:"/cardLine.svg",alt:"cardLine"})}),e.jsx("div",{className:"h-full text-black",children:e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[e.jsxs("div",{className:"flex flex-col justify-start",children:[e.jsx("p",{className:"text-sm w-fit",children:"From:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-bold w-fit text-xs whitespace-nowrap",children:s.originTime.split(":").slice(0,2).join(":")}),e.jsx("p",{className:"font-medium w-fit text-xs break-words ",children:s.origin})]})]}),e.jsx("div",{className:"justify-start",children:e.jsx("p",{className:"text-xs text-gray-500 w-fit",children:s.duration})}),e.jsxs("div",{className:"flex flex-col justify-start",children:[e.jsx("p",{className:"text-sm w-fit",children:"To:"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("p",{className:"font-bold w-fit text-xs whitespace-nowrap",children:s.destinationTime.split(":").slice(0,2).join(":")}),e.jsx("p",{className:"font-medium w-fit text-xs break-words",children:s.destination})]})]})]})}),e.jsxs("div",{className:"absolute bottom-3 right-4 text-right",children:[e.jsx("p",{className:"text-sm w-fit",children:"Price:"}),e.jsx("p",{className:"font-bold w-fit text-m",children:s.price})]})]})]})},p=({logs:s})=>{d().props;const[n,l]=c.useState({});return console.log("Log Data: ",s),c.useEffect(()=>{if(s&&Array.isArray(s)){const r=s.reduce((i,t)=>{const a=t.departure_date||"Unknown Date";return i[a]||(i[a]=[]),i[a].push({logId:t.log_id,name:"Shuttle Bus TripIn",bookingCode:t.trip.booking.booking_code,seat:`Seat ${t.trip.booking.seat_number.join(", ")}`,passengers:`${t.trip.booking.seat_total} Passenger(s)`,origin:t.departure,originTime:t.trip.schedule.departure_time,destination:t.arrival,destinationTime:t.trip.schedule.arrival_time,duration:"2 h 45 m",price:`Rp${parseInt(t.trip.booking.price).toLocaleString("id-ID")}`}),i},{});l(r)}},[s]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"lg:flex lg:justify-center",children:e.jsxs("div",{className:"lg:w-[400px] bg-white",children:[e.jsx("header",{className:"bg-primary h-[108px] w-full rounded-b-lg",children:e.jsxs("div",{className:"flex text-white justify-center items-center relative h-full",children:[e.jsx(o,{className:"size-6 cursor-pointer absolute top-1/2 translate-y-[-50%] left-3",onClick:()=>history.back()}),e.jsx("h1",{className:"font-medium text-3xl w-full text-center",children:"History"})]})}),e.jsx("main",{className:" px-4 py-6 bg-white min-h-screen",children:Object.entries(n).map(([r,i])=>e.jsxs("section",{className:"mb-6",children:[e.jsx("p",{className:"font-semibold text-black mb-5",children:new Date(r).toLocaleDateString("en-US",{weekday:"short",day:"numeric",month:"long",year:"numeric"})}),e.jsx("div",{className:"flex flex-col gap-3",children:i.map((t,a)=>e.jsx(x,{CardProp:t},a))})]},r))})]})})})};export{p as default};
