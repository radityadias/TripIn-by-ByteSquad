import{r as t,W as b,j as e}from"./app-D9cWeyPu.js";import{F as h}from"./ArrowLeftIcon-ByIlWwAh.js";const k=({email:d})=>{const[i,y]=t.useState(""),[m,N]=t.useState(""),[l,c]=t.useState(""),[a,p]=t.useState(!0),{data:r,setData:n,post:w,processing:u,errors:o}=b({email:d,password:"",confirmPassword:"",termsAccepted:!1});console.log("New Pass Email : ",d);const x=async s=>{s.preventDefault();const g=document.head.querySelector('meta[name="csrf-token"]').content;if(console.log("New Pass : ",r.password),console.log("New Pass : ",r.confirmPassword),i!==m){c("Passwords do not match"),p(!1);return}try{w("/forgot-password/new-password",r,{headers:{"X-CSRF-TOKEN":g}})}catch{c("Failed to reset password. Please try again.")}},f=()=>{window.location.href="/forgot-password/email"};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"lg:flex lg:justify-center",children:e.jsxs("div",{className:"min-h-screen bg-primary flex flex-col lg:w-[400px]",children:[e.jsx("div",{className:"flex justify-center py-20 bg-primary",children:e.jsx("div",{className:"flex items-center",children:e.jsx("img",{src:"/TripInLogo.svg",className:"w-36 ",alt:"Logo of TripIn"})})}),e.jsx("div",{className:"bg-white rounded-t-md pt-8 pb-4 flex-grow",children:e.jsxs("div",{className:"px-6 md:max-w-xl lg:max-w-2xl mx-auto",children:[l&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-600 rounded-lg text-sm",children:l}),e.jsxs("form",{onSubmit:x,className:"w-full",children:[e.jsx("h2",{className:"text-xl text-black font-semibold mb-4",children:"Please enter a new password"}),e.jsx("input",{type:"email",name:"email",id:"email",value:r.email,onChange:s=>n("email",s.target.value),disabled:!0,className:"w-full px-4 py-3 text-black border border-gray-300 rounded-lg mb-4 bg-gray-50"}),e.jsx("input",{type:"password",name:"password",id:"password",placeholder:"New Password",value:r.password,onChange:s=>n("password",s.target.value),className:`w-full px-4 py-3 text-black bg-transparent border rounded-lg mb-4 focus:outline-none focus:ring-2 focus:ring-primary2 focus:border-transparent
                ${a?"border-gray-300":"border-red-500"}`,required:!0}),o.password&&e.jsx("div",{className:"text-red-500 text-sm",children:o.password}),e.jsx("input",{type:"password",name:"confirmPassword",id:"confirmPassword",placeholder:"Confirm New Password",value:r.confirmPassword,onChange:s=>n("confirmPassword",s.target.value),className:`w-full px-4 py-3 text-black bg-transparent border rounded-lg mb-6 focus:outline-none focus:ring-2 focus:ring-primary2 focus:border-transparent
                ${a?"border-gray-300":"border-red-500"}`,required:!0}),o.confirmPassword&&e.jsx("div",{className:"text-red-500 text-sm",children:o.confirmPassword}),e.jsx("button",{type:"submit",className:`w-full bg-primary2 text-white py-3 rounded-lg font-medium
                ${a?"hover:opacity-90 transition-opacity":"opacity-70 cursor-not-allowed"}
              `,disabled:!a||u,children:"Reset Password"}),e.jsxs("div",{className:"w-full h-fit cursor-pointer flex justify-center items-center p-5",onClick:f,children:[e.jsx(h,{className:"size-4 text-primary2"}),e.jsxs("p",{className:"text-sm text-primary2",children:[" ","go back to Sign In"]})]})]})]})})]})})})};export{k as default};
