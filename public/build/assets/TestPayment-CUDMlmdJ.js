import{r as i,j as t,b as c}from"./app-D9cWeyPu.js";const u=({token:l})=>{const[s,a]=i.useState(null),r=async()=>{try{const e=await c.post("/create-transaction/send",{amount:1e5}),{snap_token:o}=e.data;console.log(o),a(o),window.snap.pay(o,{onSuccess:function(n){alert("Payment Success! "+JSON.stringify(n))},onPending:function(n){alert("Payment Pending! "+JSON.stringify(n))},onError:function(n){alert("Payment Error! "+JSON.stringify(n))},onClose:function(){alert("You closed the popup without completing the payment.")}})}catch(e){console.error("Payment error:",e)}};return t.jsxs("div",{children:[t.jsx("h1",{children:"Test Payment with Midtrans"}),t.jsx("button",{onClick:r,children:"Pay with GoPay"}),s&&t.jsxs("p",{children:["Snap Token: ",s]})]})};export{u as default};
