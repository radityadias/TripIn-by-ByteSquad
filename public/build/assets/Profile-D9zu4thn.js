import{r as l,q as f,j as e,a as s}from"./app-CA6_zjF1.js";import{N as g}from"./NavbarTripin-CTDUTP-E.js";import{M as u}from"./ModalComponent-Bhj5Jb1Q.js";import{T as j}from"./ToastComponent-C-8k23az.js";const A=()=>{const[i,a]=l.useState(null),{auth:d,flash:r={}}=f().props,{user:o}=d,[m,n]=l.useState(!0),[v,h]=l.useState("");function c(){n(t=>!t)}l.useEffect(()=>{if(r&&r.success){a({type:"success",message:r.success});const t=setTimeout(()=>{a(null)},3e3);return()=>clearTimeout(t)}},[r.success]),l.useEffect(()=>{window.scrollTo({top:0,behavior:"smooth"}),console.log("rerendering gakni")},[]),sessionStorage.getItem("reloaded")==="true"&&sessionStorage.removeItem("reloaded");const p=async()=>{await fetch("/sanctum/csrf-cookie");const t=document.head.querySelector('meta[name="csrf-token"]').content;try{(await fetch("/logout",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":t}})).ok?window.location.href="/welcome":alert("Logout failed, please try again")}catch(x){console.error("Error during logout:",x),alert("Logout failed, please try again")}};return e.jsxs(e.Fragment,{children:[i&&e.jsx("div",{className:"nowrap fixed left-1/2 top-5 flex h-fit w-fit items-center justify-center",children:e.jsx(j,{message:i.message,onClose:()=>h(""),type:"success"})}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"h-fit w-full lg:max-w-[400px]",children:[e.jsx("div",{className:"h-[220px] w-full bg-primary",children:e.jsx("p",{className:"pt-16 text-center text-3xl font-semibold text-white",children:"Profile"})}),e.jsxs("div",{className:"mt-[-1.75rem] h-full min-h-[100dvh] w-full rounded-t-3xl bg-white px-6",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"mt-[-3.5rem] h-[120px] w-[120px] overflow-hidden rounded-full ring-4 ring-blue-300",children:e.jsx("img",{src:"https://placehold.co/120x120",loading:"lazy"})}),e.jsx("p",{className:"text-center text-3xl font-semibold",children:o.username}),e.jsx("p",{className:"text-center text-sm font-light",children:o.email}),e.jsx("p",{className:"text-center text-xs font-light",children:o.phone_number})]}),e.jsxs("div",{className:"h-max-[230px] w-max-[392px] py-3",children:[e.jsx("p",{className:"pl-2 text-lg font-medium leading-10",children:"Account"}),e.jsxs("div",{className:"grid h-[158px] w-full grid-cols-1 overflow-hidden rounded-md",children:[e.jsxs(s,{href:"/profile/edit",className:"flex flex-row items-center bg-[#DADADA59] px-5 text-lg font-medium hover:bg-primary hover:text-white",children:[e.jsx("img",{src:"/profile.svg",alt:"icon",loading:"lazy"}),e.jsx("p",{className:"px-5 text-sm",children:"Edit Profile"})]}),e.jsxs(s,{href:"/notifications",className:"flex flex-row items-center border-y-2 bg-[#DADADA59] px-5 text-lg font-medium hover:bg-primary hover:text-white",children:[e.jsx("img",{src:"/notif.svg",alt:"icon",loading:"lazy"}),e.jsx("p",{className:"px-[27px] text-sm",children:"Notification"})]}),e.jsxs(s,{href:"/profile/history",className:"flex flex-row items-center bg-[#DADADA59] px-5 text-lg font-medium hover:bg-primary hover:text-white",children:[e.jsx("img",{src:"/history.svg",alt:"icon",loading:"lazy"}),e.jsx("p",{className:"px-5 text-sm",children:"History"})]})]})]}),e.jsxs("div",{className:"h-max-[230px] w-max-[392px] py-3",children:[e.jsx("p",{className:"pl-2 text-lg font-medium leading-10",children:"About"}),e.jsxs("div",{className:"grid h-[158px] w-full grid-cols-1 overflow-hidden rounded-md",children:[e.jsxs(s,{href:"/faq",className:"flex flex-row items-center bg-[#DADADA59] px-5 text-lg font-medium hover:bg-primary hover:text-white",children:[e.jsx("img",{src:"/faq.svg",alt:"icon",loading:"lazy"}),e.jsx("p",{className:"px-5 text-sm",children:"FAQ"})]}),e.jsxs(s,{href:"/terms-condition",className:"flex flex-row items-center border-y-2 bg-[#DADADA59] px-5 text-lg font-medium hover:bg-primary hover:text-white",children:[e.jsx("img",{src:"/term.svg",alt:"icon",loading:"lazy"}),e.jsx("p",{className:"px-6 text-sm",children:"Term & Conditions"})]}),e.jsxs(s,{href:"/privacy-policy",className:"flex flex-row items-center bg-[#DADADA59] px-5 text-lg font-medium hover:bg-primary hover:text-white",children:[e.jsx("img",{src:"/privacy.svg",alt:"icon",loading:"lazy"}),e.jsx("p",{className:"px-5 text-sm",children:"Privacy Policy"})]})]})]}),e.jsxs("div",{className:"h-max-[230px] w-max-[392px] py-3",children:[e.jsx("p",{className:"text-lg font-bold leading-10",children:"Action"}),e.jsx("div",{className:"mb-16 h-[52px] w-full overflow-hidden rounded-md",children:e.jsxs("button",{onClick:c,className:"flex h-[52px] w-full flex-row items-center bg-[#DADADA59] px-5 text-lg font-medium hover:bg-primary hover:text-white",children:[e.jsx("img",{src:"/logout.svg",alt:"icon",loading:"lazy"}),e.jsx("p",{className:"px-5 text-sm",children:"Log Out"})]})})]})]})]})}),e.jsx(g,{pageInfo:"Profile"}),e.jsx(u,{isModalHidden:m,setIsModalHidden:n,children:e.jsxs("div",{className:"flex h-[160px] w-[300px] flex-col overflow-hidden sm:w-[360px] md:h-[180px]",children:[e.jsxs("div",{className:"p-6 sm:p-8",children:[e.jsx("p",{className:"text-center text-2xl font-semibold text-red-400 opacity-100",children:"Logout"}),e.jsx("p",{className:"text-center text-base font-extralight text-black opacity-100",children:"Are you sure?"})]}),e.jsx("div",{className:"h-full rounded-b-xl",children:e.jsxs("div",{className:"grid h-full grid-cols-2",children:[e.jsx("button",{className:"rounded-es-lg border-t border-black bg-transparent text-black transition-colors duration-200 hover:bg-yellow-500 hover:text-white sm:text-lg",onClick:c,children:"Cancel"}),e.jsx("button",{className:"rounded-ee-lg border-l border-t border-black bg-transparent text-black transition-colors duration-200 hover:bg-red-500 hover:text-white sm:text-lg",onClick:p,children:"Logout"})]})})]})})]})};export{A as default};
