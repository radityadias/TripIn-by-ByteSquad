import{r as t,j as e}from"./app-D9cWeyPu.js";import{N as k}from"./NavbarTripin-DWfF5JZV.js";import{F as C}from"./ChevronRightIcon-CfALusfq.js";function T({title:i,titleId:a,...s},o){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":a},s),i?t.createElement("title",{id:a},i):null,t.createElement("path",{fillRule:"evenodd",d:"M5.25 9a6.75 6.75 0 0 1 13.5 0v.75c0 2.123.8 4.057 2.118 5.52a.75.75 0 0 1-.297 1.206c-1.544.57-3.16.99-4.831 1.243a3.75 3.75 0 1 1-7.48 0 24.585 24.585 0 0 1-4.831-1.244.75.75 0 0 1-.298-1.205A8.217 8.217 0 0 0 5.25 9.75V9Zm4.502 8.9a2.25 2.25 0 1 0 4.496 0 25.057 25.057 0 0 1-4.496 0Z",clipRule:"evenodd"}))}const z=t.forwardRef(T),F=["Jakarta","Bali","Bandung","Yogyakarta"],R=()=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex lg:w-full h-[120px]   overflow-scroll flex-nowrap  gap-2 flex-row items-center hide-scrollbar scroll-smooth",children:F.map((i,a)=>e.jsxs("div",{className:" relative flex-shrink-0 w-[255px] h-[100px] rounded-lg overflow-hidden ",children:[e.jsx("p",{className:"absolute text-white shadow-md px-3 py-2 font-semibold tracking-tight z-10",children:i}),e.jsx("div",{className:"absolute size-full  bg-primary2/30"}),e.jsx("img",{src:`/${i}.png`,alt:"",loading:"lazy",className:"w-[255px] h-[100px]"})]},a))})}),h=({CardProp:i=[]})=>{const a=s=>`Rp${s.toLocaleString("id-ID")}`;return e.jsx(e.Fragment,{children:i.map(s=>e.jsxs("div",{className:"lg:max-w-[440px]  w-full h-fit rounded-md border border-[#8BAFCE80] bg-white shadow-md px-4 py-5",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"",children:e.jsx("img",{src:"/shuttle_icon.svg",alt:"shuttle_icon",loading:"lazy"})}),e.jsxs("div",{className:"flex-row justify-start h-fit ml-5",children:[e.jsx("p",{className:"text-black",children:s.name}),e.jsx("p",{className:"text-black text-sm w-fit p-1 border rounded-md",children:s.plateNumber})]})]}),e.jsxs("div",{className:"grid grid-cols-[1fr] ",children:[e.jsx("div",{className:" h-full flex justify-end py-2 pr-2 w-4"}),e.jsxs("div",{className:" h-full text-black relative pl-9 ",children:[e.jsx("div",{className:"absolute rounded-full size-2 bg-grey left-5 top-2"}),e.jsx("div",{className:"absolute h-3/4 w-0.5 bg-grey left-[23px] top-3",children:e.jsx("div",{className:"absolute rounded-full size-2 bg-grey -left-[3px] top-1/2 -translate-y-[45%] "})}),e.jsx("div",{className:"absolute size-2 rounded-full bg-grey left-5 bottom-1.5"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 ",children:[e.jsxs("div",{className:"flex flex-col justify-start max-h-9 overflow-hidden",children:[e.jsx("p",{className:"text-sm w-fit",children:"from:"}),e.jsx("p",{className:"font-medium w-fit text-xs text-left ",children:s.origin})]}),e.jsx("div",{className:"flex flex-col items-end",children:e.jsxs("div",{className:"w-24",children:[e.jsx("p",{className:"text-sm w-fit",children:"status:"}),e.jsx("p",{className:`font-medium w-fit text-[10px] leading-snug ${s.status==="On Trip"?"text-[#EB8317]":"text-gray-600 bg-gray-100 p-1 rounded-sm "}`,children:s.status})]})}),e.jsxs("div",{className:"flex flex-col justify-start relative overflow-hidden max-h-9",children:[e.jsx("p",{className:"text-sm w-fit",children:"to:"}),e.jsx("p",{className:"font-medium w-fit text-xs text-left",children:s.destination})]}),e.jsx("div",{className:"flex flex-col items-end",children:e.jsxs("div",{className:"w-24",children:[e.jsx("p",{className:"text-sm w-fit",children:"Price:"}),e.jsx("p",{className:"font-medium w-fit text-xs",children:a(s.price)})]})})]})]})]})]},s.id))})},E=({credit:i,username:a,user_id:s,booking:o,notification_status:x})=>{const[u,f]=t.useState(!1),[g,j]=t.useState(!1),[m,v]=t.useState(!1);t.useState([]);const{todays:b,upcomings:N}=o,w=new Intl.NumberFormat("id-ID",{minimumFractionDigits:2,maximumFractionDigits:2}).format(i),p=b.map(l=>{var r,n,c;return{id:l.booking_id,name:"Shuttle Bus Tripin",plateNumber:(r=l.trips[0])==null?void 0:r.schedule.vehicle.license_plate,origin:(n=l.trips[0])==null?void 0:n.origin,destination:(c=l.trips[0])==null?void 0:c.schedule.location.name,status:"On Trip",price:l.price}}),d=N.map(l=>{var r,n,c;return{id:l.booking_id,name:"Shuttle Bus Tripin",plateNumber:(r=l.trips[0])==null?void 0:r.schedule.vehicle.license_plate,origin:(n=l.trips[0])==null?void 0:n.origin,destination:(c=l.trips[0])==null?void 0:c.schedule.location.name,status:"Upcoming Trip",price:l.price}});t.useEffect(()=>{f(p.length>0),j(d.length>0)},[o]);const y=m?d:d.slice(0,2);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"h-fit w-full bg-white lg:max-w-[400px]",children:[e.jsxs("div",{className:"relative h-[222px] rounded-b-3xl bg-primary",children:[e.jsxs("div",{className:`absolute right-5 top-8 ${x=="unread"&&"animate-shake"}`,children:[e.jsx(z,{onClick:()=>window.location.href=route("notification"),className:"relative z-40 size-8 cursor-pointer text-white hover:animate-none"}),x=="unread"&&e.jsx("div",{className:"absolute right-1 top-1 z-50 size-2 rounded-full bg-primary2"})]}),e.jsx("div",{className:"relative h-[90px] pl-5 pt-8",children:e.jsx("img",{src:"/TripInLogo.svg",className:"h-8 w-16",alt:"Logo of TripIn",loading:"lazy"})}),e.jsxs("div",{className:"mx-5",children:[e.jsxs("p",{className:"text-2xl font-semibold tracking-tighter text-white sm:text-3xl",children:["Welcome, ",a]}),e.jsx("p",{className:"text-base font-medium tracking-tight text-white sm:text-lg",children:"Enjoy Your Trip!"})]})]}),e.jsxs("div",{className:"h-full min-h-[100vh] w-full px-5 pb-8",children:[e.jsxs("a",{onClick:()=>console.log("Navigate to credit screen"),className:"group relative top-[-1.5rem] mx-5 flex rounded-lg border border-primary bg-white px-5 py-2 hover:cursor-pointer",children:[e.jsx("img",{className:"mr-3",src:"/credit.svg",alt:"CreditIcon",loading:"lazy"}),e.jsxs("p",{className:"text-orange absolute left-14 top-1/2 -translate-y-1/2 text-sm",children:[w," CP"]}),e.jsx(C,{className:"absolute right-3 top-1/2 size-5 translate-y-[-50%] text-black duration-200 group-hover:translate-x-2"})]}),e.jsx("button",{onClick:()=>window.location.href=route("booking.index"),className:"mb-8 w-full rounded-lg bg-primary2 py-2 text-white",children:"Booking"}),e.jsx("div",{className:"font-semibold text-black",children:"Available Locations"}),e.jsx("div",{className:"lg:flex lg:justify-center",children:e.jsx(R,{})}),e.jsx("div",{className:"mb-3 mt-12 font-semibold text-black",children:"Today's Trip"}),e.jsx("div",{className:"grid gap-4",children:u?e.jsx(h,{CardProp:p}):e.jsxs("div",{className:"flex flex-col items-center justify-center pb-9",children:[e.jsx("img",{src:"/tayo-bus.svg ",loading:"lazy"}),e.jsx("p",{children:"no tayo trip available"})]})}),e.jsxs("div",{className:"mb-3 mt-16 flex items-baseline justify-between px-2",children:[e.jsx("p",{className:"text-orange font-semibold",children:"Upcoming's Trip"}),d.length>2&&e.jsx("button",{onClick:()=>v(!m),className:"text-sm font-medium text-primary2 underline",children:m?"See Less":"See More"})]}),e.jsx("div",{className:"grid gap-4",children:e.jsx("div",{className:"mb-10 grid gap-4",children:g?e.jsx(h,{CardProp:y}):e.jsxs("div",{className:"flex flex-col items-center justify-center pb-9",children:[e.jsx("img",{src:"/tayo-bus.svg"}),e.jsx("p",{children:"no tayo trip available"})]})})})]})]})}),e.jsx(k,{pageInfo:"HomePage"})]})};export{E as default};
